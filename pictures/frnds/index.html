<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Pullaingo</title>
    <meta name="description" content="">
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>

<body>
    <a-scene auto-enter-vr>
        <a-assets>
            <img id="mute" src="assets/song_off.png">
            <img id="unmute" src="assets/song.png">
            <img id="close" src="assets/back.png">
            <a-mixin id="cube" geometry="primitive: box"></a-mixin>
            <a-mixin id="cube-hovered" material="color: magenta"></a-mixin>
            <a-mixin id="cube-selected" material="color: cyan"></a-mixin>
            <a-mixin id="red" material="color: red"></a-mixin>
            <a-mixin id="green" material="color: green"></a-mixin>
            <a-mixin id="blue" material="color: blue"></a-mixin>
            <a-mixin id="yellow" material="color: yellow"></a-mixin>
            <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
        </a-assets>
        <a-assets>
            <audio id="background_audio" loop src="assets/music.mp3"></audio>
        </a-assets>
        <a-assets>
            <img id="bg" src="assets/bg.jpg" />

            <img id="pic1" src="assets/1.jpg" />
            <img id="pic2" src="assets/2.jpg" />
            <img id="pic3" src="assets/3.jpg" />
            <img id="pic4" src="assets/4.jpg" />
            <img id="pic5" src="assets/5.jpg" />
            <img id="pic6" src="assets/6.jpg" />
            <img id="pic7" src="assets/7.jpg" />
            <img id="pic8" src="assets/8.jpg" />
            <img id="pic9" src="assets/9.jpg" />
            <img id="pic10" src="assets/10.jpg" />
            <img id="pic11" src="assets/11.jpg" />
            <img id="pic12" src="assets/12.jpg" />
            <img id="pic13" src="assets/13.jpg" />
        </a-assets>

        <a-image id="mute-image" src="#mute" position="-1 0 0"></a-image>
        <a-image id="close-image" src="#close" height="0.8" width="0.8" position="1 0 0"></a-image>
        <a-entity position="0 2 4">
            <a-entity camera look-controls wasd-controls>
                <a-entity position="0 0 -3" scale="0.2 0.2 0.2"
                    geometry="primitive: ring; radiusOuter: 0.20;radiusInner: 0.10;"
                    material="color: #ADD8E6; shader: flat" cursor="maxDistance: 30; fuse: true">
                    <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1"
                        to="1 1 1" dur="150"></a-animation>
                    <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1"
                        to="0.2 0.2 0.2" dur="1500"></a-animation>
                </a-entity>
            </a-entity>
        </a-entity>

        <!-- Gallery -->
        <a-curvedimage id="img1" src="#pic1" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  180 0" position="-7 2.5 2">
        </a-curvedimage>

        <a-entity>
            <a-image position="-15 4 -20" height="15" width="15" src="#pic2"></a-image>
        </a-entity>

        <a-entity>
            <a-image position="4 5 -20" height="20" width="20" src="#pic3"></a-image>
        </a-entity>

        <a-curvedimage id="img3" src="#pic4" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  140 0" position="6 2.5 2">
        </a-curvedimage>

        <a-curvedimage id="img5" src="#pic5" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  100 0" position="6 2.5 3.5">
        </a-curvedimage>

        <a-curvedimage id="img6" src="#pic6" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  60 0" position="6 2.5 5">
        </a-curvedimage>

        <a-curvedimage id="img7" src="#pic7" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  20 0" position="6 2.5 6.5">
        </a-curvedimage>

        <a-curvedimage id="img8" src="#pic8" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  340 0" position="6 2.5 8">
        </a-curvedimage>

        <a-curvedimage id="img9" src="#pic9" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  330 0" position="1 2.5 8">
        </a-curvedimage>

        <a-curvedimage id="img10" src="#pic10" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  220 0" position="-7 2.5 3.5">
        </a-curvedimage>

        <a-curvedimage id="img11" src="#pic11" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  260 0" position="-7 2.5 5">
        </a-curvedimage>

        <a-curvedimage id="img12" src="#pic12" transparent="true" height="4" radius="5" theta-length="50"
            rotation="0  300 0" position="-7 2.5 6.5">
        </a-curvedimage>

        <a-curvedimage id="img13" src="#pic13" transparent="true" height="4" radius="5" theta-length="60"
            rotation="0  310 0" position="-3.5 2.5 8.5">
        </a-curvedimage>

        <a-sky src="#bg"></a-sky>
    </a-scene>
    <script>
        AFRAME.registerComponent('auto-enter-vr', {
            init: function () {
                this.el.sceneEl.enterVR();
            }
        });

        var template = $('#hidden-template').html();
        var audio = document.querySelector('#background_audio');
        audio.addEventListener('loadeddata', function () {
            audio.play();
            $('a-scene').append(template);
        });
        var muted = false;
        var muteImage = document.querySelector("#mute-image");
        document.querySelector('#mute-image').addEventListener('click', function () {
            muted = !muted;
            document.getElementById('background_audio').muted = muted;
            if (muted) {
                muteImage.setAttribute('material', {
                    'src': '#unmute',
                    'transparent': true
                });
            } else {
                muteImage.setAttribute('material', {
                    'src': '#mute',
                    'transparent': true
                });
            }
        });
        document.querySelector("#close-image").addEventListener('click', function () {
            window.location.href = "../../index.html";

        });
    </script>
</body>

</html>